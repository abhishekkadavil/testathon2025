version: 0.1

runson: ubuntu-latest

env:
  JAVA_HOME: "/usr/lib/jvm/java-17-openjdk-amd64"

pre:
  - sudo apt-get update
  - sudo apt-get install -y openjdk-17-jdk maven
  - echo "Using external API â€” no local server required"

testSuites:
  - suiteName: "Gatling API Load Test"
    tests:
      - "mvn -q gatling:test"

post:
  - echo "Finished execution"

uploadArtefacts:
  - path:
      - target/gatling
    name: gatling-report
